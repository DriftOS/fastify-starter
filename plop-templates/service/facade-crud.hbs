import { Create{{pascalCase name}}Orchestrator } from './orchestrator.js';
import type { Create{{pascalCase name}}Input, {{pascalCase name}} } from './types/index.js';
import type { OrchestratorResult } from '@core/orchestration/index.js';

/**
 * {{pascalCase name}} Service (CRUD)
 *
 * Service facade implementing the singleton pattern.
 * Public API for all {{camelCase name}} operations.
 *
 * Generated by: npm run generate
 */
export class {{pascalCase name}}Service {
  private static instance: {{pascalCase name}}Service;
  private createOrchestrator: Create{{pascalCase name}}Orchestrator;

  private constructor() {
    this.createOrchestrator = new Create{{pascalCase name}}Orchestrator();
  }

  /**
   * Get singleton instance
   */
  public static getInstance(): {{pascalCase name}}Service {
    if (!{{pascalCase name}}Service.instance) {
      {{pascalCase name}}Service.instance = new {{pascalCase name}}Service();
    }
    return {{pascalCase name}}Service.instance;
  }

  /**
   * Create a new {{camelCase name}}
   */
  public async create{{pascalCase name}}(
    input: Create{{pascalCase name}}Input
  ): Promise<OrchestratorResult<{{pascalCase name}}>> {
    return this.createOrchestrator.execute(input);
  }

  /**
   * Health check
   */
  public async healthCheck(): Promise<{ status: string; service: string }> {
    return {
      status: 'healthy',
      service: '{{pascalCase name}}Service',
    };
  }
}

// Export singleton instance
export const {{camelCase name}}Service = {{pascalCase name}}Service.getInstance();
